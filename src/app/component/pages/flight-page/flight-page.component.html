<body>
  <div class="preview-flight">
    <div class="routes">
      <div class="logo">
        P
      </div>

      <div class="detail">
        <div class="title">
          Pilih Penerbangan Pergi
        </div>
        <div class="description">
          <div class="from">
            {{flights[0].from.city}}({{flights[0].from.cityCode}})
          </div>
          ->
          <div class="to">
            {{flights[0].to.city}}({{flights[0].to.cityCode}})
          </div>
        </div>
      </div>

    </div>
    <app-button title="UBAH PENCARIAN" width = 21 (click)="toggleOverlay($event)"></app-button>
  </div>

  <div class="search-flight" *ngIf="!isHidden">
    <div class="from">
      <mat-label>From</mat-label>
      <mat-select [formControl]="fromAirport" required>
        <mat-option>--</mat-option>
        <mat-option *ngFor="let airport of airports" [value]="airport">
          {{airport.city}}
        </mat-option>
      </mat-select>
    </div>
    <div class="to">
      <mat-label>To</mat-label>
      <mat-select [formControl]="toAirport" required>
        <mat-option>--</mat-option>
        <mat-option *ngFor="let airport of airports" [value]="airport">
          {{airport.city}}
        </mat-option>
      </mat-select>
    </div>
    <app-button title="UBAH PENCARIAN" width = 21 (click)="toggleOverlay($event)"></app-button>
  </div>

  <div class="content">
    <div class="filter">
      <div class="departure">
        <div class="title">Departure</div>
        <div class="sub-departure" *ngFor="let departure of departures; let i = index">
          <div class="filter-desc">
            {{departure.name}}
          </div>
          <mat-checkbox [checked] = "departure.active" [(ngModel)]="departure.active" name= "{{i}}-name"></mat-checkbox>
        </div>
      </div>
      <div class="arrival">
        <div class="title">Arrival</div>
        <div class="sub-arrival" *ngFor="let arrival of arrivals">
          <div class="filter-desc">
            {{arrival.name}}
          </div>
          <mat-checkbox [checked] = "arrival.active" [(ngModel)]="arrival.active" name= "{{i}}-name"></mat-checkbox>
        </div>
      </div>
      <div class="transits">
        <div class="title">Transit</div>
        <div class="sub-transits" *ngFor="let transit of transits">
          <div class="filter-desc">
            {{transit.name}}
          </div>
          <mat-checkbox [checked] = "transit.active" [(ngModel)]="transit.active" name= "{{i}}-name"></mat-checkbox>
        </div>
      </div>
    </div>

    <div class="wrapper-flight">
      <div class="results">
        <div class="sub-results" *ngFor="let flight of flights; let i = index">
          <div class="flight-result" *ngIf="filterValidation(i)">
            <header>
              <div class="name">{{flight.airline.name}}</div>
              <button mat-raised-button matTooltip={{facilities[i]}}>Facilities</button>
            </header>
            <section>
              <div class="left">
                <img src="../../../../assets/airline/citylink.png" alt="">
                <div class="departure">
                  <div>
                    {{flight.from.cityCode}}
                  </div>
                  <div>
                    {{flight.departure | date:'HH:mm':'UTC'}}
                  </div>
                </div>
                <div class="duration">
                  <div>
                    {{flight.duration}}
                  </div>
                </div>
                <div class="arrival">
                  <div>
                    {{flight.to.cityCode}}
                  </div>
                  <div>
                    {{flight.arrival | date:'HH:mm':'UTC'}}
                  </div>
                </div>
              </div>
              <div class="right">
                {{flight.price}}
              </div>
            </section>
            <footer>
              <app-button title="BELI" width="8"></app-button>
            </footer>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="overlay" [hidden] = "isHidden" (click)="toggleOverlay($event)"></div>
</body>
